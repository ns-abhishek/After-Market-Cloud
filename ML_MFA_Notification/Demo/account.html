<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Account Dashboard</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", Arial, sans-serif;
      }

      body {
        background-color: #ffffff;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      body.dark-mode {
        background-color: #000000;
        color: #f0f0f0;
      }

      .container {
        display: flex;
        min-height: 100vh;
      }

      .sidebar {
        width: 260px;
        background-color: #fff;
        color: #000000;
        padding: 20px;
        transition: all 0.3s ease;
        border-right: 1px solid #e0e0e0;
        position: sticky;
        top: 0;
        height: 100vh;
      }

      body.dark-mode .sidebar {
        background-color: #0f0f0f;
        border-right: 1px solid #2c2c2c;
      }

      .sidebar .user-info {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #e0e0e0;
        position: relative;
      }

      body.dark-mode .sidebar .user-info {
        border-bottom: 1px solid #000000;
      }

      .sidebar .user-info .profile-pic {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
        border: 2px solid #000000;
        cursor: pointer;
      }

      .sidebar .user-info .profile-pic:hover {
        opacity: 0.9;
      }

      .sidebar .user-info input[type="file"] {
        display: none;
      }

      .sidebar .user-info span {
        font-size: 16px;
        font-weight: 500;
        color: #000000;
      }

      body.dark-mode .sidebar .user-info span {
        color: #000000;
      }

      .sidebar .dark-mode-toggle {
        position: absolute;
        right: 0;
        top: 15px;
        cursor: pointer;
        color: #000000;
      }

      body.dark-mode .sidebar .dark-mode-toggle {
        color: #000000;
      }

      .sidebar .menu-item {
        padding: 12px 15px;
        font-size: 14px;
        cursor: pointer;
        border-radius: 5px;
        margin-bottom: 5px;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
      }

      body.dark-mode .sidebar .menu-item {
        color: #f0f0f0;
      }

      .sidebar .menu-item i {
        margin-right: 10px;
        color: #000000;
      }

      body.dark-mode .sidebar .menu-item i {
        color: #000000;
      }

      .sidebar .menu-item:hover {
        background-color: #ff6f611a;
      }

      body.dark-mode .sidebar .menu-item:hover {
        background-color: #ff6f6133;
      }

      .sidebar .menu-item.active {
        background-color: #000000;
        color: #fff;
        font-weight: bold;
      }

      body.dark-mode .sidebar .menu-item.active {
        background-color: #000000;
      }

      .sidebar .menu-item.active i {
        color: #fff;
      }

      .sidebar .menu-item.logout {
        color: #000000;
        margin-top: 20px;
      }

      body.dark-mode .sidebar .menu-item.logout {
        color: #000000;
      }

      .sidebar .menu-item.logout:hover {
        background-color: #0000001a;
      }

      .sidebar .menu-header {
        padding: 15px;
        font-size: 18px;
        font-weight: bold;
        color: #333;
        margin-top: 25px;
        margin-bottom: 15px;
        text-transform: uppercase;
        border-bottom: 2px solid #e0e0e0;
        letter-spacing: 0.5px;
      }

      body.dark-mode .sidebar .menu-header {
        color: #f0f0f0;
        border-bottom: 1px solid #2c2c2c;
      }

      .sidebar .menu-header i {
        color: #333;
        margin-right: 10px;
      }

      body.dark-mode .sidebar .menu-header i {
        color: #f0f0f0;
      }

      .sidebar .sub-menu-item {
        padding: 12px 15px 12px 25px;
        font-size: 14px;
        cursor: pointer;
        border-radius: 5px;
        margin-bottom: 8px;
        margin-left: 10px;
        margin-right: 10px;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
      }

      body.dark-mode .sidebar .sub-menu-item {
        color: #f0f0f0;
      }

      .sidebar .sub-menu-item i {
        margin-right: 10px;
        color: #000000;
      }

      body.dark-mode .sidebar .sub-menu-item i {
        color: #000000;
      }

      .sidebar .sub-menu-item:hover {
        background-color: #f0f0f0;
      }

      body.dark-mode .sidebar .sub-menu-item:hover {
        background-color: #2c2c2c;
      }

      .sidebar .sub-menu-item.active:hover {
        background-color: #000000;
      }

      body.dark-mode .sidebar .sub-menu-item.active:hover {
        background-color: #000000;
      }

      .sidebar .sub-menu-item.active {
        background-color: #000000;
        color: #ffffff;
        font-weight: bold;
      }

      body.dark-mode .sidebar .sub-menu-item.active {
        background-color: #000000;
        color: #ffffff;
      }

      .sidebar .sub-menu-item.active i {
        color: #ffffff;
      }

      .main-content {
        flex: 1;
        padding: 40px;
        background-color: #f8f9fa;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      body.dark-mode .main-content {
        background-color: #0f0f0f;
        color: #f0f0f0;
      }

      .main-content h2 {
        font-size: 22px;
        color: #333;
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
      }

      body.dark-mode .main-content h2 {
        color: #f0f0f0;
        border-bottom: 1px solid #2c2c2c;
      }

      .main-content h2 i {
        margin-right: 10px;
        color: #000000;
      }

      body.dark-mode .main-content h2 i {
        color: #000000;
      }

      .form-group {
        margin-bottom: 30px;
        position: relative;
        width: 100%;
        max-width: 800px;
      }

      .form-group label {
        display: block;
        font-size: 14px;
        font-weight: 500;
        color: #333;
        margin-bottom: 8px;
      }

      body.dark-mode .form-group label {
        color: #f0f0f0;
      }

      .form-group input[type="text"],
      .form-group input[type="email"],
      .form-group input[type="password"] {
        width: 100%;
        max-width: 400px;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
        transition: border-color 0.3s ease;
        background-color: #fff;
        margin-bottom: 5px;
      }

      body.dark-mode .form-group input[type="text"],
      body.dark-mode .form-group input[type="email"],
      body.dark-mode .form-group input[type="password"] {
        background-color: #1a1a1a;
        border: 1px solid #333333;
        color: #f0f0f0;
      }

      .form-group input:focus {
        outline: none;
        border-color: #000000;
        box-shadow: 0 0 5px rgba(255, 111, 97, 0.2);
      }

      body.dark-mode .form-group input:focus {
        border-color: #ff8a80;
        box-shadow: 0 0 5px rgba(255, 138, 128, 0.2);
      }

      .form-group .edit-btn,
      .form-group .save-btn,
      .form-group .cancel-btn,
      .action-btn {
        color: #000000;
        cursor: pointer;
        font-size: 14px;
        margin-left: 15px;
        transition: color 0.3s ease;
      }

      body.dark-mode .form-group .edit-btn,
      body.dark-mode .form-group .save-btn,
      body.dark-mode .form-group .cancel-btn,
      body.dark-mode .action-btn {
        color: #ff8a80;
      }

      .form-group .save-btn,
      .action-btn.save {
        color: #28a745;
      }

      .form-group .cancel-btn,
      .action-btn.cancel {
        color: #ff6161;
      }

      .form-group .edit-btn:hover,
      .form-group .save-btn:hover,
      .form-group .cancel-btn:hover,
      .action-btn:hover {
        color: #333;
      }

      body.dark-mode .form-group .edit-btn:hover,
      body.dark-mode .form-group .save-btn:hover,
      body.dark-mode .form-group .cancel-btn:hover,
      body.dark-mode .action-btn:hover {
        color: #ffffff;
      }

      .radio-group {
        display: flex;
        gap: 20px;
        margin-top: 10px;
      }

      .radio-group label {
        font-size: 14px;
        color: #555;
        cursor: pointer;
      }

      body.dark-mode .radio-group label {
        color: #cccccc;
      }

      .radio-group input[type="radio"] {
        margin-right: 5px;
      }

      .info-section {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #eee;
      }

      body.dark-mode .info-section {
        border-top: 1px solid #2c2c2c;
      }

      .info-section h3 {
        font-size: 16px;
        color: #333;
        margin-bottom: 15px;
      }

      body.dark-mode .info-section h3 {
        color: #f0f0f0;
      }

      .info-section p {
        font-size: 14px;
        color: #666;
        margin-bottom: 10px;
        line-height: 1.6;
      }

      body.dark-mode .info-section p {
        color: #cccccc;
      }

      .info-section p strong {
        color: #333;
      }

      body.dark-mode .info-section p strong {
        color: #f0f0f0;
      }

      .success-message {
        color: #28a745;
        font-size: 14px;
        margin-top: 10px;
        display: none;
      }

      .tab-content {
        display: none;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      body.dark-mode .tab-content {
        background-color: #1a1a1a;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      .tab-content.active {
        display: block;
      }

      .order-item,
      .address-item,
      .payment-item {
        border: 1px solid #ddd;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 5px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      body.dark-mode .order-item,
      body.dark-mode .address-item,
      body.dark-mode .payment-item {
        border: 1px solid #2c2c2c;
        background-color: #1a1a1a;
      }

      .order-item p,
      .address-item p,
      .payment-item p {
        margin: 5px 0;
        font-size: 14px;
        color: #333;
      }

      body.dark-mode .order-item p,
      body.dark-mode .address-item p,
      body.dark-mode .payment-item p {
        color: #f0f0f0;
      }

      .order-item .status {
        color: #28a745;
        font-weight: 500;
      }

      .address-item .action-btn,
      .payment-item .action-btn {
        margin-left: 10px;
      }

      .add-btn {
        background-color: #000000;
        color: #fff;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        display: inline-block;
        margin-bottom: 20px;
        transition: background-color 0.3s ease;
      }

      body.dark-mode .add-btn {
        background-color: #000000;
      }

      .add-btn:hover {
        background-color: #000000;
      }

      body.dark-mode .add-btn:hover {
        background-color: #000000;
      }

      .add-btn i {
        margin-right: 5px;
      }

      .empty-message {
        font-size: 14px;
        color: #666;
        margin-top: 20px;
      }

      body.dark-mode .empty-message {
        color: #cccccc;
      }

      .rewards-card {
        background-color: #f1f3f6;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      body.dark-mode .rewards-card {
        background-color: #1a1a1a;
      }

      .rewards-card p {
        font-size: 16px;
        color: #000000;
      }

      body.dark-mode .rewards-card p {
        color: #000000;
      }

      .rewards-card p span {
        color: #000000;
        font-weight: bold;
      }

      body.dark-mode .rewards-card p span {
        color: #000000;
      }

      .order-timeline {
        position: relative;
        padding-left: 30px;
        margin-top: 20px;
      }

      .order-timeline::before {
        content: "";
        position: absolute;
        left: 10px;
        top: 0;
        bottom: 0;
        width: 2px;
        background-color: #ddd;
      }

      body.dark-mode .order-timeline::before {
        background-color: #2c2c2c;
      }

      .timeline-item {
        position: relative;
        margin-bottom: 20px;
      }

      .timeline-item::before {
        content: "";
        position: absolute;
        left: -29px;
        top: 5px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background-color: #ff6f61;
        border: 2px solid #fff;
      }

      body.dark-mode .timeline-item::before {
        background-color: #ff8a80;
        border: 2px solid #0f0f0f;
      }

      .timeline-item p {
        font-size: 14px;
        color: #666;
      }

      body.dark-mode .timeline-item p {
        color: #cccccc;
      }

      .timeline-item p strong {
        color: #333;
      }

      body.dark-mode .timeline Witem p strong {
        color: #f0f0f0;
      }

      /* Orders Style Start */
      :root {
        --black: #000;
        --white: #fff;
        --gray: #d3d3d3;
        --dark-gray: #555;
        --light-gray: #f8f8f8;
      }

      .search-container {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
        max-width: 400px;
      }

      .search-input {
        flex: 1;
        padding: 0.5rem 0.8rem;
        border: 1px solid var(--dark-gray);
        border-right: none;
        border-radius: 4px 0 0 4px;
        font-size: 0.9rem;
        outline: none;
        transition: border-color 0.2s ease;
      }

      .search-input:focus {
        border-color: var(--black);
      }

      .search-button {
        background: var(--black);
        color: var(--white);
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 0 4px 4px 0;
        cursor: pointer;
        font-size: 0.9rem;
        transition: background 0.3s ease;
      }

      .search-button:hover {
        background: var(--dark-gray);
      }

      .order-filters {
        display: flex;
        align-items: center;
        gap: 0.8rem;
        margin-bottom: 1rem;
        background: var(--white);
        padding: 0.5rem 1rem;
        border-radius: 4px;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 60px;
        z-index: 500;
      }

      .filter-group {
        position: relative;
      }

      .filter-group label {
        display: inline-block;
        padding: 0.4rem 0.8rem;
        background: var(--light-gray);
        border: 1px solid var(--dark-gray);
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 500;
        transition: background 0.2s ease;
      }

      .filter-group label:hover {
        background: var(--gray);
      }

      .filter-options {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background: var(--white);
        border: 1px solid var(--dark-gray);
        border-radius: 4px;
        padding: 0.5rem;
        z-index: 10;
        width: 160px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        opacity: 0;
        transform: translateY(-8px);
        transition: opacity 0.3s ease, transform 0.3s ease;
      }

      .filter-group.active .filter-options {
        display: block;
        opacity: 1;
        transform: translateY(0);
      }

      .filter-options label {
        display: flex;
        align-items: center;
        padding: 0.4rem;
        font-size: 0.8rem;
        transition: background 0.2s ease;
      }

      .filter-options label:hover {
        background: var(--light-gray);
      }

      .filter-options input {
        margin-right: 0.4rem;
      }

      .clear-filters {
        background: var(--black);
        color: var(--white);
        padding: 0.4rem 0.8rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;
        transition: background 0.3s ease;
      }

      .clear-filters:hover {
        background: var(--dark-gray);
      }

      /* Modified: Increased padding and aligned items to top for text arrangement */
      .order-card {
        background: var(--white);
        border-radius: 6px;
        padding: 1.2rem;
        margin-bottom: 0.8rem;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .order-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
      }

      .order-image {
        width: 200px;
        height: auto;
        border-radius: 8px;
        object-fit: cover;
      }

      /* Modified: Structured for better text alignment */
      .order-info {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      /* Modified: Adjusted for price alignment */
      .order-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.3rem;
        flex: 1;
      }

      .order-header h3 {
        font-size: 0.95rem;
        font-weight: 500;
        margin: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 300px;
      }

      .order-price {
        font-size: 1.2rem;
        font-weight: 600;
        white-space: nowrap;
      }

      .order-meta {
        font-size: 0.75rem;
        color: var(--dark-gray);
      }

      .order-status {
        display: inline-block;
        padding: 0.2rem 0.5rem;
        border-radius: 10px;
        font-size: 0.7rem;
        font-weight: 500;
        margin-bottom: 0.2rem;
        background: var(--gray);
      }

      .rate-review {
        color: var(--black);
        text-decoration: none;
        font-size: 0.75rem;
        transition: color 0.2s ease;
      }

      .rate-review:hover {
        color: var(--dark-gray);
      }

      /* Modified: Aligned button to right */
      .reorder-button {
        background: var(--black);
        color: var(--white);
        padding: 0.4rem 0.8rem;
        border-radius: 4px;
        border: none;
        font-size: 0.8rem;
        cursor: pointer;
        transition: background 0.3s ease;
        margin-left: auto;
        align-self: flex-start;
      }

      .reorder-button:hover {
        background: var(--dark-gray);
      }

      .order-details {
        display: none;
        animation: fadeIn 0.3s ease-in-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .card {
        background: var(--white);
        border-radius: 6px;
        padding: 1rem;
        margin-bottom: 1rem;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
      }

      /* Modified: Adjusted grid for image and details */
      .details-grid {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 1.5rem;
      }

      .timeline div {
        margin: 0.4rem 0;
        font-size: 0.85rem;
      }

      .btn {
        background: var(--black);
        color: var(--white);
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;
        transition: background 0.3s ease;
      }

      .btn:hover {
        background: var(--dark-gray);
      }

      .back-btn {
        background: var(--dark-gray);
        margin-bottom: 0.8rem;
      }

      .stars-container {
        display: flex;
        gap: 0.2rem;
        margin: 0.4rem 0;
      }

      .star {
        font-size: 1rem;
        color: var(--gray);
        cursor: pointer;
        transition: color 0.2s ease;
      }

      .star:hover,
      .star.active {
        color: var(--black);
      }

      .order-summary {
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
      }

      .order-summary-item {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
      }

      .order-total {
        font-size: 1rem;
        font-weight: 600;
        margin-top: 0.8rem;
        display: flex;
        justify-content: space-between;
      }

      .shipping-details {
        background: var(--light-gray);
        padding: 0.8rem;
        border-radius: 4px;
        margin-top: 0.8rem;
      }

      .shipping-details h3 {
        font-size: 0.9rem;
        margin-bottom: 0.4rem;
      }

      .empty-state {
        text-align: center;
        padding: 1.5rem;
        color: var(--dark-gray);
        font-size: 0.9rem;
      }

      .loading {
        text-align: center;
        padding: 1.5rem;
        color: var(--dark-gray);
        font-size: 0.9rem;
      }

      .form-group {
        margin-bottom: 0.8rem;
      }

      .form-control {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid var(--dark-gray);
        border-radius: 4px;
        font-size: 0.9rem;
        resize: vertical;
      }

      .form-control:focus {
        outline: none;
        border-color: var(--black);
        box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
      }

      /* New: Style for item image in order details */
      .order-details-image {
        width: 400px;
        height: auto;
        border-radius: 8px;
        object-fit: cover;
        margin-bottom: 1rem;
      }

      /* New: Container for image and product details */
      .product-details-container {
        display: flex;
        gap: 1.5rem;
        margin-bottom: 1rem;
      }

      @media (max-width: 768px) {
        .sidebar {
          transform: translateX(-240px);
        }

        .sidebar.visible {
          transform: translateX(0);
        }

        .main {
          margin-left: 0;
        }

        .menu-toggle {
          display: block;
        }

        .order-filters {
          flex-wrap: wrap;
          gap: 0.5rem;
          padding: 0.4rem;
        }

        .filter-group label {
          padding: 0.3rem 0.6rem;
          font-size: 0.8rem;
        }

        .filter-options {
          width: 140px;
        }

        .order-card {
          flex-direction: column;
          align-items: flex-start;
          padding: 0.8rem;
        }

        .order-image {
          width: 100%;
          max-height: 500px;
        }

        .order-header {
          flex-direction: row;
          align-items: center;
          gap: 0.5rem;
          width: 100%;
        }

        .order-header h3 {
          max-width: 60%;
        }

        .order-price {
          flex-shrink: 0;
        }

        .reorder-button {
          margin-left: 0;
          margin-top: 0.5rem;
          align-self: stretch;
        }

        .details-grid {
          grid-template-columns: 1fr;
        }

        /* New: Stack image and details on mobile */
        .product-details-container {
          flex-direction: column;
          gap: 1rem;
        }

        .order-details-image {
          width: 100%;
          max-height: 500px;
        }
      }
      /* Orders Style End */
    </style>
  </head>
  <body>
    <div class="container">
      <div class="sidebar">
        <div class="user-info">
          <label for="profile-pic-upload">
            <img src="image.jpg" alt="Profile Picture" class="profile-pic" />
          </label>

          <span id="user-name">John Doe</span>
        </div>

        <div class="menu-header" style="margin-top: 10px">
          <i class="fas1"></i> Purchases
        </div>
        <div class="sub-menu-item" onclick="showTab('orders')">
          <i class="fas fa-box"></i> Order History
        </div>
        <div class="sub-menu-item" onclick="showTab('tracking')">
          <i class="fas fa-map"></i> Track Orders
        </div>

        <div class="menu-header"><i class="fas2"></i> My Profile</div>
        <div class="sub-menu-item active" onclick="showTab('profile')">
          <i class="fas fa-user"></i> Personal Details
        </div>
        <div class="sub-menu-item" onclick="showTab('addresses')">
          <i class="fas fa-map-marker-alt"></i> Delivery Addresses
        </div>
        <div class="sub-menu-item" onclick="showTab('security')">
          <i class="fas fa-lock"></i> Security Settings
        </div>

        <div class="menu-header"><i class="fas3"></i> Wallet</div>
        <div class="sub-menu-item" onclick="showTab('rewards')">
          <i class="fas fa-coins"></i> Rewards Points
        </div>
        <div class="sub-menu-item" onclick="showTab('saved-payments')">
          <i class="fas fa-credit-card"></i> Saved Payments
        </div>

        <div class="menu-item logout" onclick="logout()">
          <i class="fas fa-sign-out-alt"></i> Sign Out
        </div>
      </div>
      <div class="main-content">
        <div id="orders" class="tab-content">
          <!-- =================================== Order History Start =================================== -->
          Orders 1234
          <div class="main" id="mainContent">
            <div id="orderListPage">
              <div class="search-container">
                <input
                  type="text"
                  id="orderSearch"
                  class="search-input"
                  placeholder="Search your orders here..."
                  aria-label="Search orders"
                />
                <button
                  class="search-button"
                  onclick="searchOrders()"
                  aria-label="Search"
                >
                  <i class="bi bi-search"></i> Search Orders
                </button>
              </div>

              <div class="order-filters">
                <div class="filter-group" id="statusFilterGroup">
                  <label
                    onclick="toggleDropdown('statusFilterGroup')"
                    aria-haspopup="true"
                    >Order Status</label
                  >
                  <div class="filter-options">
                    <label
                      ><input
                        type="checkbox"
                        value="all"
                        onclick="filterOrders()"
                      />
                      All Statuses</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="on the way"
                        onclick="filterOrders()"
                      />
                      On the Way</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="delivered"
                        onclick="filterOrders()"
                      />
                      Delivered</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="cancelled"
                        onclick="filterOrders()"
                      />
                      Cancelled</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="returned"
                        onclick="filterOrders()"
                      />
                      Returned</label
                    >
                  </div>
                </div>
                <div class="filter-group" id="timeFilterGroup">
                  <label
                    onclick="toggleDropdown('timeFilterGroup')"
                    aria-haspopup="true"
                    >Order Time</label
                  >
                  <div class="filter-options">
                    <label
                      ><input
                        type="checkbox"
                        value="last 30 days"
                        onclick="filterOrders()"
                      />
                      Last 30 Days</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="2024"
                        onclick="filterOrders()"
                      />
                      2024</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="2023"
                        onclick="filterOrders()"
                      />
                      2023</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="2022"
                        onclick="filterOrders()"
                      />
                      2022</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="2021"
                        onclick="filterOrders()"
                      />
                      2021</label
                    >
                    <label
                      ><input
                        type="checkbox"
                        value="older"
                        onclick="filterOrders()"
                      />
                      Older</label
                    >
                  </div>
                </div>
                <button class="clear-filters" onclick="clearFilters()">
                  Clear Filters
                </button>
              </div>

              <div id="orderList"></div>
              <div id="loading" class="loading" style="display: none">
                Loading...
              </div>
              <div id="emptyState" class="empty-state" style="display: none">
                No orders found.
              </div>
            </div>

            <div id="orderDetails" class="order-details">
              <button class="btn back-btn" onclick="showOrderList()">
                ← Back to Orders
              </button>
              <div class="card">
                <h2>Order #<span id="orderIdDetails"></span></h2>
                <p>
                  Track your order:
                  <strong><span id="orderTrackDetails"></span></strong> (Shared
                  via SMS)
                </p>
              </div>
              <div class="card">
                <div class="details-grid">
                  <div>
                    <h3>Product Details</h3>
                    <!-- New: Container for image and details -->
                    <div class="product-details-container">
                      <img
                        id="orderImageDetails"
                        class="order-details-image"
                        src=""
                        alt=""
                      />
                      <div>
                        <p>
                          <strong>Product:</strong>
                          <span id="orderProductDetails"></span>
                        </p>
                        <p>
                          <strong>Status:</strong>
                          <span id="orderStatusDetails"></span>
                        </p>
                        <div class="timeline" id="orderTimelineDetails"></div>
                        <p>
                          Product has <strong>no-return policy</strong>
                          <a href="#" style="color: var(--black)">Know more</a>
                        </p>
                        <div class="stars-container" id="orderRating">
                          <span
                            class="star"
                            data-rating="1"
                            role="button"
                            aria-label="Rate 1 star"
                            >★</span
                          >
                          <span
                            class="star"
                            data-rating="2"
                            role="button"
                            aria-label="Rate 2 stars"
                            >★</span
                          >
                          <span
                            class="star"
                            data-rating="3"
                            role="button"
                            aria-label="Rate 3 stars"
                            >★</span
                          >
                          <span
                            class="star"
                            data-rating="4"
                            role="button"
                            aria-label="Rate 4 stars"
                            >★</span
                          >
                          <span
                            class="star"
                            data-rating="5"
                            role="button"
                            aria-label="Rate 5 stars"
                            >★</span
                          >
                        </div>
                        <button class="btn">Chat with us</button>
                      </div>
                    </div>
                  </div>
                  <div>
                    <h3>Price Details</h3>
                    <div class="order-summary">
                      <div class="order-summary-item">
                        <div>List Price</div>
                        <div id="orderListPrice"></div>
                      </div>
                      <div class="order-summary-item">
                        <div>Selling Price</div>
                        <div id="orderSellingPrice"></div>
                      </div>
                      <div class="order-summary-item">
                        <div>Extra Discount</div>
                        <div id="orderDiscount"></div>
                      </div>
                      <div class="order-summary-item">
                        <div>Special Price</div>
                        <div id="orderSpecialPrice"></div>
                      </div>
                      <div class="order-summary-item">
                        <div>Delivery Charge</div>
                        <div>Free</div>
                      </div>
                      <div class="order-summary-item">
                        <div>Platform Fee</div>
                        <div>₹3</div>
                      </div>
                    </div>
                    <hr />
                    <div class="order-total">
                      <div>Total</div>
                      <div id="orderTotal"></div>
                    </div>
                    <div>
                      <button class="btn">Download Invoice</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <h3>Shipping Address</h3>
                <div class="shipping-details">
                  <p><strong>Kumari</strong></p>
                  <p>#78, West of Chord Road, 3rd Stage</p>
                  <p>Basaveshwar Nagar, Bengaluru</p>
                  <p>Karnataka - 560079</p>
                  <p><strong>Phone:</strong> 8073931650</p>
                </div>
              </div>
            </div>

            <div id="reviewForm" class="order-details">
              <button class="btn back-btn" onclick="showOrderList()">
                ← Back to Orders
              </button>
              <div class="card">
                <h2>Rate & Review Product</h2>
                <p>Order ID: <span id="reviewOrderId"></span></p>
                <div>
                  <div class="form-group">
                    <label for="rating">Rating:</label>
                    <div class="stars-container" id="reviewRating">
                      <span
                        class="star"
                        data-rating="1"
                        role="button"
                        aria-label="Rate 1 star"
                        >★</span
                      >
                      <span
                        class="star"
                        data-rating="2"
                        role="button"
                        aria-label="Rate 2 stars"
                        >★</span
                      >
                      <span
                        class="star"
                        data-rating="3"
                        role="button"
                        aria-label="Rate 3 stars"
                        >★</span
                      >
                      <span
                        class="star"
                        data-rating="4"
                        role="button"
                        aria-label="Rate 4 stars"
                        >★</span
                      >
                      <span
                        class="star"
                        data-rating="5"
                        role="button"
                        aria-label="Rate 5 stars"
                        >★</span
                      >
                    </div>
                    <input type="hidden" id="rating" name="rating" value="0" />
                  </div>
                  <div class="form-group">
                    <label for="review">Your Review:</label>
                    <textarea
                      class="form-control"
                      id="review"
                      rows="5"
                      aria-required="true"
                    ></textarea>
                  </div>
                  <button class="btn" onclick="submitReview(event)">
                    Submit Review
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!-- =================================== Order History End =================================== -->
        </div>

        <div id="tracking" class="tab-content">
          <h2><i class="fas fa-map"></i> Track Orders</h2>
          <div class="order-item">
            <div>
              <p><strong>Order #12346</strong> - Smartwatch</p>
              <p>Estimated Delivery: May 15, 2025</p>
            </div>
          </div>
          <div class="order-timeline">
            <div class="timeline-item">
              <p><strong>May 5, 2025</strong> - Order Placed</p>
            </div>
            <div class="timeline-item">
              <p><strong>May 6, 2025</strong> - Order Confirmed</p>
            </div>
            <div class="timeline-item">
              <p><strong>May 7, 2025</strong> - Shipped</p>
            </div>
            <div class="timeline-item">
              <p><strong>May 10, 2025</strong> - Out for Delivery</p>
            </div>
          </div>
        </div>

        <div id="profile" class="tab-content active">
          <h2><i class="fas fa-user"></i> Personal Details</h2>
          <div class="form-group">
            <input
              type="text"
              id="first-name"
              value="John"
              placeholder="First Name"
            />
            <input
              type="text"
              id="last-name"
              value="Doe"
              placeholder="Last Name"
            />
          </div>
          <div class="form-group">
            <label>Gender</label>
            <div class="radio-group">
              <label
                ><input type="radio" name="gender" value="male" checked />
                Male</label
              >
              <label
                ><input type="radio" name="gender" value="female" />
                Female</label
              >
            </div>
          </div>
          <div class="form-group">
            <label>Email Address</label>
            <input
              type="email"
              id="email"
              value="johndoe@example.com"
              disabled
            />
            <span class="edit-btn" onclick="enableEdit('email')"
              ><i class="fas fa-edit"></i> Edit</span
            >
            <span
              class="save-btn"
              onclick="saveField('email')"
              style="display: none"
              ><i class="fas fa-save"></i> Save</span
            >
            <span
              class="cancel-btn"
              onclick="cancelEdit('email')"
              style="display: none"
              ><i class="fas fa-times"></i> Cancel</span
            >
            <div class="success-message" id="email-success">
              Email updated successfully!
            </div>
          </div>
          <div class="form-group">
            <label>Phone Number</label>
            <input type="text" id="mobile" value="+919876543210" disabled />
            <span class="edit-btn" onclick="enableEdit('mobile')"
              ><i class="fas fa-edit"></i> Edit</span
            >
            <span
              class="save-btn"
              onclick="saveField('mobile')"
              style="display: none"
              ><i class="fas fa-save"></i> Save</span
            >
            <span
              class="cancel-btn"
              onclick="cancelEdit('mobile')"
              style="display: none"
              ><i class="fas fa-times"></i> Cancel</span
            >
            <div class="success-message" id="mobile-success">
              Phone number updated successfully!
            </div>
          </div>
          <div class="info-section">
            <h3>Information</h3>
            <p><strong>How do I update my contact details?</strong></p>
            <p>
              Click the "Edit" button next to the field you want to update, make
              your changes, and click "Save". You'll need to verify your new
              email or phone number.
            </p>
          </div>
        </div>

        <div id="addresses" class="tab-content">
          <h2><i class="fas fa-map-marker-alt"></i> Delivery Addresses</h2>
          <div class="add-btn" onclick="addAddress()">
            <i class="fas fa-plus"></i> Add New Address
          </div>
          <div id="address-list">
            <div class="address-item">
              <div>
                <p><strong>Home Address</strong></p>
                <p>123 Main St, Apt 4B, New York, NY 10001</p>
                <p>Phone: +919876543210</p>
              </div>
              <div>
                <span class="action-btn" onclick="editAddress(this)"
                  ><i class="fas fa-edit"></i> Edit</span
                >
                <span class="action-btn cancel" onclick="deleteAddress(this)"
                  ><i class="fas fa-trash"></i> Delete</span
                >
              </div>
            </div>
          </div>
        </div>

        <div id="security" class="tab-content">
          <h2><i class="fas fa-lock"></i> Security Settings</h2>
          <div class="form-group">
            <label>Current Password</label>
            <input
              type="password"
              id="current-password"
              placeholder="Enter current password"
            />
          </div>
          <div class="form-group">
            <label>New Password</label>
            <input
              type="password"
              id="new-password"
              placeholder="Enter new password"
            />
          </div>
          <div class="form-group">
            <label>Confirm New Password</label>
            <input
              type="password"
              id="confirm-password"
              placeholder="Confirm new password"
            />
          </div>
          <div class="add-btn" onclick="changePassword()">
            <i class="fas fa-save"></i> Update Password
          </div>
        </div>

        <div id="rewards" class="tab-content">
          <h2><i class="fas fa-coins"></i> Rewards Points</h2>
          <div class="rewards-card">
            <p>Your Rewards Balance: <span>250 Points</span></p>
            <div
              class="action-btn"
              onclick="alert('Redeem points functionality coming soon!')"
            >
              <i class="fas fa-gift"></i> Redeem
            </div>
          </div>
          <h3>Points History</h3>
          <p>Earned 100 points on May 10, 2025 - Order #12345</p>
          <p>Earned 150 points on May 5, 2025 - Order #12346</p>
        </div>

        <div id="saved-payments" class="tab-content">
          <h2><i class="fas fa-credit-card"></i> Saved Payments</h2>
          <div id="payment-list">
            <div class="payment-item">
              <div>
                <p><strong>Visa ending in 1234</strong></p>
                <p>Expires: 12/26</p>
              </div>
              <span class="action-btn cancel" onclick="deletePayment(this)"
                ><i class="fas fa-trash"></i> Delete</span
              >
            </div>
          </div>
          <div class="add-btn" onclick="addPayment()">
            <i class="fas fa-plus"></i> Add New Payment Method
          </div>
        </div>

        <div id="favorites" class="tab-content">
          <h2><i class="fas fa-heart"></i> Favorites</h2>
          <p class="empty-message">
            You haven't added any items to your favorites yet.
          </p>
        </div>

        <div id="feedback" class="tab-content">
          <h2><i class="fas fa-comment"></i> Feedback</h2>
          <p class="empty-message">You haven't submitted any feedback yet.</p>
        </div>
      </div>
    </div>
    <script>
      // Simulated user data
      let userData = {
        firstName: "John",
        lastName: "Doe",
        email: "johndoe@example.com",
        mobile: "+919876543210",
        gender: "male",
        profilePic: "image.jpg",
        addresses: [
          {
            type: "Home",
            address: "123 Main St, Apt 4B, New York, NY 10001",
            phone: "+919876543210",
          },
        ],
        payments: [{ type: "Visa", lastFour: "1234", expiry: "12/26" }],
        orders: [
          {
            id: "12345",
            date: "May 10, 2025",
            item: "Wireless Headphones",
            price: "Rs.99.99",
            status: "Delivered",
          },
          {
            id: "12346",
            date: "May 5, 2025",
            item: "Smartwatch",
            price: "Rs.149.99",
            status: "Shipped",
          },
        ],
      };

      // Load initial data
      document.addEventListener("DOMContentLoaded", () => {
        loadUserData();
        showTab("profile"); // Default tab
        loadDarkMode();
      });

      function loadUserData() {
        document.getElementById("first-name").value = userData.firstName;
        document.getElementById("last-name").value = userData.lastName;
        document.getElementById("email").value = userData.email;
        document.getElementById("mobile").value = userData.mobile;
        document.getElementById(
          "user-name"
        ).textContent = `${userData.firstName} ${userData.lastName}`;
        //document.getElementById("profile-pic").src = userData.profilePic;
        document.querySelector(
          `input[name="gender"][value="${userData.gender}"]`
        ).checked = true;
      }

      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        const isDarkMode = document.body.classList.contains("dark-mode");
        localStorage.setItem("darkMode", isDarkMode);
        const toggleIcon = document.querySelector(".dark-mode-toggle");
        toggleIcon.classList.toggle("fa-moon", !isDarkMode);
        toggleIcon.classList.toggle("fa-sun", isDarkMode);
      }

      function loadDarkMode() {
        const isDarkMode = localStorage.getItem("darkMode") === "true";
        if (isDarkMode) {
          document.body.classList.add("dark-mode");
          const toggleIcon = document.querySelector(".dark-mode-toggle");
          toggleIcon.classList.remove("fa-moon");
          toggleIcon.classList.add("fa-sun");
        }
      }

      function showTab(tabId) {
        document
          .querySelectorAll(".tab-content")
          .forEach((tab) => tab.classList.remove("active"));
        document
          .querySelectorAll(".sub-menu-item")
          .forEach((item) => item.classList.remove("active"));
        document.getElementById(tabId).classList.add("active");
        const menuItem = document.querySelector(
          `.sub-menu-item[onclick="showTab('${tabId}')"]`
        );
        if (menuItem) {
          menuItem.classList.add("active");
        }
      }

      function enableEdit(field) {
        const input = document.getElementById(field);
        const editBtn = input.nextElementSibling;
        const saveBtn = editBtn.nextElementSibling;
        const cancelBtn = saveBtn.nextElementSibling;
        input.disabled = false;
        input.focus();
        editBtn.style.display = "none";
        saveBtn.style.display = "inline";
        cancelBtn.style.display = "inline";
      }

      function saveField(field) {
        const input = document.getElementById(field);
        const editBtn = input.nextElementSibling;
        const saveBtn = editBtn.nextElementSibling;
        const cancelBtn = saveBtn.nextElementSibling;
        const successMessage = document.getElementById(field + "-success");
        userData[field] = input.value;
        input.disabled = true;
        editBtn.style.display = "inline";
        saveBtn.style.display = "none";
        cancelBtn.style.display = "none";
        if (successMessage) {
          successMessage.style.display = "block";
          setTimeout(() => {
            successMessage.style.display = "none";
          }, 2000);
        }
      }

      function cancelEdit(field) {
        const input = document.getElementById(field);
        const editBtn = input.nextElementSibling;
        const saveBtn = editBtn.nextElementSibling;
        const cancelBtn = saveBtn.nextElementSibling;
        input.value = userData[field];
        input.disabled = true;
        editBtn.style.display = "inline";
        saveBtn.style.display = "none";
        cancelBtn.style.display = "none";
      }

      function addAddress() {
        alert("Add new address functionality coming soon!");
      }

      function editAddress(element) {
        alert("Edit address functionality coming soon!");
      }

      function deleteAddress(element) {
        const addressItem = element.closest(".address-item");
        if (confirm("Are you sure you want to delete this address?")) {
          addressItem.remove();
        }
      }

      function changePassword() {
        alert("Change password functionality coming soon!");
      }

      function addPayment() {
        alert("Add new payment method functionality coming soon!");
      }

      function deletePayment(element) {
        const paymentItem = element.closest(".payment-item");
        if (confirm("Are you sure you want to delete this payment method?")) {
          paymentItem.remove();
        }
      }

      function logout() {
        //alert("Logout functionality coming soon!");
        window.location.href = "login.html";
      }

      function viewOrderDetails(orderId) {
        alert(`View details for order #${orderId} coming soon!`);
      }

      /* Orders Style Start */
      const allOrders = [
        {
          orderId: "OD334320015444680100",
          product: "Bushes",
          status: "Delivered",
          price: 902,
          deliveryDate: "May 05, 2024",
          image: "bushes.jpg",
          trackingNumber: "8073931650",
          details: {
            listPrice: 1199,
            sellingPrice: 1199,
            discount: 300,
            specialPrice: 899,
            timeline: [
              { event: "Order Confirmed", date: "May 04, 2024" },
              { event: "Delivered", date: "May 05, 2024" },
              {
                event: "Item opened & verified on delivery",
                date: "May 05, 2024",
              },
            ],
          },
        },
        {
          orderId: "OD334320015444680101",
          product: "Brake-Pads",
          status: "Delivered",
          price: 14048,
          deliveryDate: "March 24, 2024",
          image: "brake-pads.jpg",
          trackingNumber: "8073931651",
          details: {
            listPrice: 15999,
            sellingPrice: 14999,
            discount: 1001,
            specialPrice: 13998,
            timeline: [
              { event: "Order Confirmed", date: "March 22, 2024" },
              { event: "Delivered", date: "March 24, 2024" },
              { event: "Out for delivery", date: "March 23, 2024" },
            ],
          },
        },
        {
          orderId: "OD334320015444680102",
          product: "Barbushes",
          status: "Delivered",
          price: 0,
          deliveryDate: "March 24, 2023",
          image: "barbushes.jpg",
          trackingNumber: "8073931652",
          details: {
            listPrice: 1000,
            sellingPrice: 0,
            discount: 1000,
            specialPrice: 0,
            timeline: [
              { event: "Order Confirmed", date: "March 20, 2023" },
              { event: "Delivered", date: "March 24, 2023" },
            ],
          },
        },
        {
          orderId: "OD334320015444680103",
          product: "Brake-Pads",
          status: "Delivered",
          price: 434,
          deliveryDate: "December 06, 2022",
          image: "brake-pads.jpg",
          trackingNumber: "8073931653",
          details: {
            listPrice: 799,
            sellingPrice: 499,
            discount: 65,
            specialPrice: 434,
            timeline: [
              { event: "Order Confirmed", date: "December 01, 2022" },
              { event: "Delivered", date: "December 06, 2022" },
            ],
          },
        },
        {
          orderId: "OD334320015444680104",
          product: "Engine Parts",
          status: "Delivered",
          price: 750,
          deliveryDate: "January 15, 2023",
          image: "EngineParts.jpg",
          trackingNumber: "8073931654",
          details: {
            listPrice: 1200,
            sellingPrice: 900,
            discount: 150,
            specialPrice: 750,
            timeline: [
              { event: "Order Confirmed", date: "January 10, 2023" },
              { event: "Delivered", date: "January 15, 2023" },
            ],
          },
        },
      ];

      let filteredOrders = [...allOrders];
      let selectedOrderId = null;
      let currentPage = 1;
      const ordersPerPage = 5;

      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const mainContent = document.getElementById("mainContent");
        sidebar.classList.toggle("visible");
        mainContent.classList.toggle("full-width");
      }

      function toggleDropdown(filterGroupId) {
        const filterGroup = document.getElementById(filterGroupId);
        const isActive = filterGroup.classList.contains("active");
        document.querySelectorAll(".filter-group").forEach((group) => {
          group.classList.remove("active");
        });
        if (!isActive) {
          filterGroup.classList.add("active");
        }
      }

      function displayOrders() {
        const orderList = document.getElementById("orderList");
        const loading = document.getElementById("loading");
        const emptyState = document.getElementById("emptyState");

        loading.style.display = "block";
        orderList.style.display = "none";
        emptyState.style.display = "none";

        setTimeout(() => {
          orderList.innerHTML = "";
          const start = (currentPage - 1) * ordersPerPage;
          const end = start + ordersPerPage;
          const paginatedOrders = filteredOrders.slice(start, end);

          if (paginatedOrders.length === 0) {
            emptyState.style.display = "block";
          } else {
            paginatedOrders.forEach((order) => {
              const orderCard = document.createElement("div");
              orderCard.className = "order-card";
              orderCard.onclick = () => showDetails(order.orderId);
              orderCard.innerHTML = `
                            <img src="${order.image}" alt="${
                order.product
              }" class="order-image">
                            <div class="order-info">
                                <div class="order-header">
                                    <h3>${order.product}</h3>
                                    <span class="order-price">${
                                      order.price === 0
                                        ? "FREE"
                                        : "₹" + order.price
                                    }</span>
                                </div>
                                <div class="order-meta">
                                    <span class="order-status">${
                                      order.status
                                    }</span><br>
                                    <span>Order ID: ${order.orderId}</span><br>
                                    <span>${
                                      order.status === "Delivered"
                                        ? "Delivered on"
                                        : order.status === "Cancelled"
                                        ? "Cancelled on"
                                        : "Returned on"
                                    }: ${order.deliveryDate}</span><br>
                                    <a href="#" class="rate-review" onclick="showReviewForm('${
                                      order.orderId
                                    }'); event.stopPropagation();" aria-label="Rate and review ${
                order.product
              }">★ Rate & Review</a>
                                </div>
                            </div>
                            <button class="reorder-button" onclick="reorderItem('${
                              order.orderId
                            }'); event.stopPropagation();" aria-label="Reorder ${
                order.product
              }">Reorder</button>
                        `;
              orderList.appendChild(orderCard);
            });
          }

          loading.style.display = "none";
          orderList.style.display = "block";
        }, 300);
      }

      function searchOrders() {
        const searchTerm = document
          .getElementById("orderSearch")
          .value.toLowerCase();
        currentPage = 1;
        filteredOrders = allOrders.filter(
          (order) =>
            order.product.toLowerCase().includes(searchTerm) ||
            order.orderId.toLowerCase().includes(searchTerm)
        );
        displayOrders();
      }

      function filterOrders() {
        const statusFilters = Array.from(
          document.querySelectorAll(
            '#statusFilterGroup input[type="checkbox"]:checked'
          )
        ).map((input) => input.value.toLowerCase());

        const timeFilters = Array.from(
          document.querySelectorAll(
            '#timeFilterGroup input[type="checkbox"]:checked'
          )
        ).map((input) => input.value.toLowerCase());

        currentPage = 1;
        filteredOrders = [...allOrders];

        if (statusFilters.length > 0 && !statusFilters.includes("all")) {
          filteredOrders = filteredOrders.filter((order) =>
            statusFilters.includes(order.status.toLowerCase())
          );
        }

        if (timeFilters.length > 0) {
          filteredOrders = filteredOrders.filter((order) => {
            const orderDate = new Date(order.deliveryDate);
            return timeFilters.some((filter) => {
              if (filter === "last 30 days") {
                const thirtyDaysAgo = new Date();
                thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
                return orderDate >= thirtyDaysAgo;
              }
              if (filter === "2024") return orderDate.getFullYear() === 2024;
              if (filter === "2023") return orderDate.getFullYear() === 2023;
              if (filter === "2022") return orderDate.getFullYear() === 2022;
              if (filter === "2021") return orderDate.getFullYear() === 2021;
              if (filter === "older") return orderDate.getFullYear() < 2021;
              return false;
            });
          });
        }

        displayOrders();
      }

      function clearFilters() {
        document
          .querySelectorAll('.filter-group input[type="checkbox"]')
          .forEach((input) => {
            input.checked = false;
          });
        filteredOrders = [...allOrders];
        currentPage = 1;
        displayOrders();
      }

      function showDetails(orderId) {
        selectedOrderId = orderId;
        document.getElementById("orderListPage").style.display = "none";
        document.getElementById("orderDetails").style.display = "block";
        document.getElementById("reviewForm").style.display = "none";

        const order = allOrders.find((o) => o.orderId === orderId);
        if (order) {
          document.getElementById("orderIdDetails").textContent = order.orderId;
          document.getElementById("orderTrackDetails").textContent =
            order.trackingNumber;
          document.getElementById("orderProductDetails").textContent =
            order.product;
          document.getElementById("orderStatusDetails").textContent =
            order.status;
          // New: Set item image
          document.getElementById("orderImageDetails").src = order.image;
          document.getElementById("orderImageDetails").alt = order.product;

          const timelineDiv = document.getElementById("orderTimelineDetails");
          timelineDiv.innerHTML = order.details.timeline
            .map((event) => `<div>✅ ${event.event}, ${event.date}</div>`)
            .join("");

          document.getElementById("orderListPrice").textContent =
            "₹" + order.details.listPrice;
          document.getElementById("orderSellingPrice").textContent =
            "₹" + order.details.sellingPrice;
          document.getElementById("orderDiscount").textContent =
            "-₹" + order.details.discount;
          document.getElementById("orderSpecialPrice").textContent =
            "₹" + order.details.specialPrice;
          document.getElementById("orderTotal").textContent =
            order.price === 0 ? "FREE" : "₹" + order.price;

          const ratingStars = document.querySelectorAll("#orderRating .star");
          ratingStars.forEach((star) => {
            star.classList.remove("active");
            star.removeEventListener("click", handleStarClick);
            star.addEventListener("click", handleStarClick);
          });

          function handleStarClick() {
            const rating = parseInt(this.getAttribute("data-rating"));
            ratingStars.forEach((s) => s.classList.remove("active"));
            for (let i = 0; i < rating; i++) {
              ratingStars[i].classList.add("active");
            }
            console.log(`Order rating: ${rating}`);
          }
        }
      }

      function showOrderList() {
        document.getElementById("orderDetails").style.display = "none";
        document.getElementById("orderListPage").style.display = "block";
        document.getElementById("reviewForm").style.display = "none";
        document.getElementById("sidebar").classList.remove("visible");
        document.getElementById("mainContent").classList.remove("full-width");
        displayOrders();
      }

      function showReviewForm(orderId) {
        selectedOrderId = orderId;
        document.getElementById("orderListPage").style.display = "none";
        document.getElementById("orderDetails").style.display = "none";
        document.getElementById("reviewForm").style.display = "block";
        document.getElementById("reviewOrderId").textContent = orderId;

        const ratingStars = document.querySelectorAll("#reviewRating .star");
        const ratingInput = document.getElementById("rating");
        ratingStars.forEach((star) => {
          star.classList.remove("active");
          star.removeEventListener("click", handleReviewStarClick);
          star.addEventListener("click", handleReviewStarClick);
        });

        function handleReviewStarClick() {
          const rating = parseInt(this.getAttribute("data-rating"));
          ratingStars.forEach((s) => s.classList.remove("active"));
          for (let i = 0; i < rating; i++) {
            ratingStars[i].classList.add("active");
          }
          ratingInput.value = rating;
        }
      }

      function submitReview(event) {
        event.preventDefault();
        const rating = document.getElementById("rating").value;
        const reviewText = document.getElementById("review").value.trim();

        if (rating === "0") {
          alert("Please select a rating.");
          return;
        }
        if (!reviewText) {
          alert("Please enter a review.");
          return;
        }

        console.log("Order ID:", selectedOrderId);
        console.log("Rating:", rating);
        console.log("Review Text:", reviewText);
        alert("Thank you for your review!");
        showOrderList();
      }

      function reorderItem(orderId) {
        const orderToReorder = allOrders.find(
          (order) => order.orderId === orderId
        );
        if (orderToReorder) {
          alert(`Reordering ${orderToReorder.product}`);
        } else {
          alert("Cannot reorder this order");
        }
      }

      document.addEventListener("click", function (event) {
        const filterGroups = document.querySelectorAll(".filter-group");
        const isClickInsideFilter = Array.from(filterGroups).some((group) =>
          group.contains(event.target)
        );
        if (!isClickInsideFilter) {
          filterGroups.forEach((group) => group.classList.remove("active"));
        }
      });

      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape") {
          document.querySelectorAll(".filter-group").forEach((group) => {
            group.classList.remove("active");
          });
          document.getElementById("sidebar").classList.remove("visible");
          document.getElementById("mainContent").classList.remove("full-width");
        }
      });

      displayOrders();
      /* Orders Style End */
    </script>
  </body>
</html>
